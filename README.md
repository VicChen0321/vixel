# Electron FFmpeg å½±ç‰‡å£“ç¸®å·¥å…·

ä¸€å€‹åŸºæ–¼ Electron çš„æ¡Œé¢æ‡‰ç”¨ç¨‹å¼ï¼Œä½¿ç”¨ FFmpeg é€²è¡Œå½±ç‰‡å£“ç¸®ã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ¥ æ”¯æ´å¤šç¨®å½±ç‰‡æ ¼å¼ (MP4, AVI, MOV, MKV, WMV, FLV, WebM)
- âš™ï¸ å¯è‡ªè¨‚å½±ç‰‡ç·¨ç¢¼å™¨ (H.264, H.265/HEVC, VP9)
- ğŸ“Š å¯èª¿æ•´ CRF å€¼æ§åˆ¶å£“ç¸®å“è³ª
- ğŸ“ˆ å³æ™‚é¡¯ç¤ºå£“ç¸®é€²åº¦
- ğŸ–¥ï¸ è·¨å¹³å°æ”¯æ´ (Windows, macOS, Linux)
- ğŸ¨ ç¾ä»£åŒ–çš„ Material-UI ä»‹é¢

## ç³»çµ±éœ€æ±‚

- Node.js 18+ 
- FFmpeg (éœ€è¦é å…ˆå®‰è£)

### FFmpeg å®‰è£

#### macOS
```bash
# ä½¿ç”¨ Homebrew
brew install ffmpeg
```

#### Windows
1. ä¸‹è¼‰ FFmpeg: https://ffmpeg.org/download.html
2. è§£å£“ç¸®åˆ°ä»»æ„ç›®éŒ„
3. å°‡ FFmpeg çš„ bin ç›®éŒ„åŠ å…¥ç³»çµ± PATH

#### Linux (Ubuntu/Debian)
```bash
sudo apt update
sudo apt install ffmpeg
```

## å®‰è£èˆ‡åŸ·è¡Œ

### 1. å®‰è£ä¾è³´
```bash
npm install
```

### 2. é–‹ç™¼æ¨¡å¼åŸ·è¡Œ
```bash
npm run dev
```

### 3. å»ºç½®æ‡‰ç”¨ç¨‹å¼
```bash
# å»ºç½®æ‰€æœ‰å¹³å°
npm run build

# å»ºç½® macOS
npm run dist:mac

# å»ºç½® Windows
npm run dist:win
```

## å°ˆæ¡ˆçµæ§‹

```
electron-ffmpeg-tool/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/           # Electron ä¸»ç¨‹åº
â”‚   â”‚   â”œâ”€â”€ main.ts     # ä¸»ç¨‹åºå…¥å£
â”‚   â”‚   â””â”€â”€ preload.ts  # é è¼‰å…¥è…³æœ¬
â”‚   â”œâ”€â”€ renderer/       # React å‰ç«¯
â”‚   â”‚   â”œâ”€â”€ index.html  # HTML å…¥å£
â”‚   â”‚   â”œâ”€â”€ index.tsx   # React å…¥å£
â”‚   â”‚   â””â”€â”€ App.tsx     # ä¸»è¦æ‡‰ç”¨å…ƒä»¶
â”‚   â””â”€â”€ ffmpeg/         # FFmpeg ç›¸é—œåŠŸèƒ½
â”‚       â””â”€â”€ compress.ts # å½±ç‰‡å£“ç¸®æ¨¡çµ„
â”œâ”€â”€ dist/               # å»ºç½®è¼¸å‡ºç›®éŒ„
â”œâ”€â”€ package.json        # å°ˆæ¡ˆé…ç½®
â”œâ”€â”€ tsconfig.json       # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts      # Vite é…ç½®
â””â”€â”€ README.md           # å°ˆæ¡ˆèªªæ˜
```

## ä½¿ç”¨èªªæ˜

1. **é¸æ“‡å½±ç‰‡æª”æ¡ˆ**: é»æ“Šã€Œé¸æ“‡å½±ç‰‡æª”æ¡ˆã€æŒ‰éˆ•é¸æ“‡è¦å£“ç¸®çš„å½±ç‰‡
2. **è¨­å®šå£“ç¸®åƒæ•¸**:
   - **å½±ç‰‡ç·¨ç¢¼å™¨**: é¸æ“‡ H.264ã€H.265/HEVC æˆ– VP9
   - **CRF å€¼**: æ§åˆ¶å£“ç¸®å“è³ª (æ•¸å€¼è¶Šä½å“è³ªè¶Šå¥½ï¼Œæª”æ¡ˆè¶Šå¤§)
3. **é–‹å§‹å£“ç¸®**: é»æ“Šã€Œé–‹å§‹å£“ç¸®ã€æŒ‰éˆ•é–‹å§‹è™•ç†
4. **ç›£æ§é€²åº¦**: æŸ¥çœ‹å£“ç¸®é€²åº¦æ¢å’Œç™¾åˆ†æ¯”
5. **å®Œæˆ**: å£“ç¸®å®Œæˆå¾Œï¼Œè¼¸å‡ºæª”æ¡ˆæœƒä¿å­˜åœ¨åŸæª”æ¡ˆåŒç›®éŒ„ä¸‹

## æŠ€è¡“æ¶æ§‹

- **Electron**: æ¡Œé¢æ‡‰ç”¨ç¨‹å¼æ¡†æ¶
- **React**: å‰ç«¯ UI æ¡†æ¶
- **TypeScript**: å‹åˆ¥å®‰å…¨çš„ JavaScript
- **Vite**: å‰ç«¯å»ºç½®å·¥å…·
- **Material-UI**: UI å…ƒä»¶åº«
- **fluent-ffmpeg**: Node.js FFmpeg å°è£

## å»ºç½®é…ç½®

### é–‹ç™¼ç’°å¢ƒ
- ä½¿ç”¨ `npm run dev` å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
- æ”¯æ´ç†±é‡è¼‰å’Œé–‹ç™¼è€…å·¥å…·

### ç”Ÿç”¢å»ºç½®
- ä½¿ç”¨ `npm run build` å»ºç½®å‰ç«¯å’Œå¾Œç«¯
- ä½¿ç”¨ `npm run dist` æ‰“åŒ…æˆå¯åŸ·è¡Œæª”

## æ•…éšœæ’é™¤

### FFmpeg è·¯å¾‘å•é¡Œ
å¦‚æœé‡åˆ° FFmpeg è·¯å¾‘å•é¡Œï¼Œè«‹ç¢ºä¿ï¼š
1. FFmpeg å·²æ­£ç¢ºå®‰è£
2. FFmpeg åœ¨ç³»çµ± PATH ä¸­
3. åœ¨ macOS ä¸Šï¼ŒFFmpeg é€šå¸¸ä½æ–¼ `/opt/homebrew/bin/ffmpeg`

### ç·¨ç¢¼å™¨ä¸æ”¯æ´
æŸäº›ç·¨ç¢¼å™¨å¯èƒ½éœ€è¦é¡å¤–çš„ FFmpeg ç·¨è­¯é¸é …ï¼š
- H.265/HEVC: éœ€è¦ `--enable-libx265`
- VP9: éœ€è¦ `--enable-libvpx`

## æˆæ¬Š

MIT License

## è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

## æ›´æ–°æ—¥èªŒ

### v1.0.0
- åˆå§‹ç‰ˆæœ¬
- æ”¯æ´åŸºæœ¬å½±ç‰‡å£“ç¸®åŠŸèƒ½
- è·¨å¹³å°æ”¯æ´
- Material-UI ä»‹é¢
